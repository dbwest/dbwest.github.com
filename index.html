
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Supertester</title>
  <meta name="author" content="David West">

  
  <meta name="description" content="Suggestion If you get stuck, use stackoverflow, superuser, or any other Stack Exchange site like ask different. They are all amazingly helpful. Any &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://dbwest.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Supertester" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:dbwest.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">
        <span class="blue_light">
            Supertester
        </span>
       
           <span class="blue_dark">
             Programming and test automation
           </span>
       
    </a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/16/appium-for-ios-and-android-automated-testing/">Appium for iOS and Android Automated Testing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-16T13:38:00-04:00" pubdate data-updated="true">Sep 16<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Suggestion</h2>

<p>If you get stuck, use <a href="http://stackoverflow.com">stackoverflow</a>, <a href="http://superuser.com">superuser</a>, or any other Stack Exchange site like <a href="http://apple.stackexchange.com/">ask different</a>. They are all amazingly helpful. Any knowledge of Ruby, the OS X (UNIX-like) command-line (for file permissions user groups, etc) will help you understand these instructions and get going in the right direction or get back on path if you&rsquo;ve lost your way.</p>

<h2>Tested with / Requirements</h2>

<ul>
<li>Macs with Lion OS and Mountain Lion OS</li>
<li>Ruby 1.9.3p448 (installed from binary)</li>
<li>Appium 0.8.2 (needed if you are using Lion), Appium 0.9.0 (Mountain Lion)</li>
<li>Chromedriver 2.1 (for Lion) or Chromedriver 2.2 (for Lion)</li>
<li>homebrew package manager</li>
<li>node.js</li>
<li>Install GenyMotion or the iOS simulator</li>
</ul>


<p><strong>note: administrative access required for part of setup</strong></p>

<h2>Installation and Configuration</h2>

<h3>Preliminary Setup: install XCode, the Command Line Tools and the iOS simulator</h3>

<ol>
<li><strong>Download XCode from the Apple Developer&rsquo;s website.</strong></li>
<li><strong>Install it from the package</strong></li>
<li><strong>After the XCode install is complete, install the Command Line Tools and the Simulator:</strong>

<ul>
<li>Start XCode, open XCode Preferences (command+,) and select downloads. Click the install button for the command line tools and iOS. Wait for the long downloads and follow all dialogues to install.</li>
</ul>
</li>
</ol>


<h3>Preliminary Setup: users and groups (admin access required)</h3>

<ol>
<li><strong>Setup groups for homebrew and automated test users:</strong> from terminal:</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo dseditgroup -o create brew testers
</span></code></pre></td></tr></table></div></figure>


<p>Enter your password as needed (you must be an admin to use a <code>sudo</code> command.)
2. <strong>Add user to groups:</strong> This example uses <code>supertester</code> as an example user. You can replace that user with any user you need to add:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo dseditgroup -o edit -a supertester -t user testers
</span><span class='line'><span class="nv">$ </span>sudo dseditgroup -o edit -a supertester -t user brew
</span></code></pre></td></tr></table></div></figure>


<h3>Install and configure homebrew package manager (admin needed)</h3>

<ol>
<li><strong>Visit the Homebrew website:</strong> <a href="http://brew.sh/">brew.sh</a></li>
<li><strong>Install Homebrew:</strong> Paste this at the terminal prompt: <code>ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)"</code></li>
<li><strong>Change group for homebrew folder to &lsquo;brew&rsquo;:</strong> <code>sudo chgrp -R brew /usr/local</code> and type in your password.</li>
<li><strong>Give permissions to &lsquo;brew&rsquo; group:</strong> <code>sudo chmod -R 775 /usr/local</code></li>
<li><strong>Check to see that your permissions are working:</strong></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">cd</span> /usr/local/bin
</span><span class='line'><span class="nv">$ </span>touch my_test_file.tmp
</span><span class='line'><span class="nv">$ </span>ls
</span></code></pre></td></tr></table></div></figure>


<p>Look for the file &lsquo;my_test_file.tmp&rsquo;. If it is there, your permissions are set up correctly. Congratulations! <strong>Get rid of your test file:</strong> <code>rm my_test_file.tmp</code></p>

<h3>Install Appium</h3>

<ul>
<li><strong>For a graphical user interface (needed if using Lion)</strong>

<ol>
<li> <strong>Download the Appium Package and Install it by copying to Applications:</strong> The website is <a href="http://appium.io">appium.io</a>. You will</li>
</ol>
</li>
<li><strong>For a command line install (possible if using Mountain Lion)</strong>
  <strong>same as above, or:</strong>

<ol>
<li> <strong>Install node.js using brew:</strong> <code>brew install node</code></li>
<li> <strong>Install appium globally using node&rsquo;s package manager &lsquo;npm&rsquo;:</strong> <code>sudo npm install -g appium</code></li>
<li> <strong>Use the package manager to install webdriver, too:</strong> <code>npm install wd</code></li>
</ol>
</li>
</ul>


<h3>Install Ruby from source</h3>

<ol>
<li><strong>Download libyaml:</strong> from <a href="[http://pyyaml.org/download/libyaml/yaml-0.1.4.tar.gz">http://pyyaml.org/download/libyaml/yaml-0.1.4.tar.gz</a></li>
<li><strong>Install libyaml:</strong>

<ol>
<li><strong>Go to the directory you downloaded it in, for example &lsquo;~/Downloads&rsquo;:</strong> <code>cd ~/Downloads</code></li>
<li><strong>Unzip and untar it:</strong> <code>tar zxvf yaml-0.1.4.tar.gz</code></li>
<li><strong>Enter the libyaml directory you extracted:</strong> <code>cd yaml-0.1.4</code></li>
<li><strong>Enter these commands to install and wait while the source is compiled:</strong> <code>configure &amp;&amp; make &amp;&amp; make install</code>

<ul>
<li>If you want the mac to tell you when it is done, you can turn up your volume and type this in, instead: <code>configure &amp;&amp; make &amp;&amp; make install &amp;&amp; say "I am done"</code></li>
</ul>
</li>
</ol>
</li>
<li><strong>Download ruby:</strong> from <a href="http://cache.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p448.tar.gz/">mirror 1</a>, <a href="http://xyz.lcs.mit.edu/ruby/ruby-1.9.3-p448.tar.gz/">mirror 2</a>, <a href="http://www.mirrorservice.org/sites/ftp.ruby-lang.org/pub/ruby/ruby-1.9.3-p448.tar.gz/">mirror 3</a>, <a href="https://ftp.ruby-lang.org/pub/ruby/ruby-1.9.3-p448.tar.gz/">mirror 4</a>, or <a href="http://www.dnsbalance.ring.gr.jp/archives/lang/ruby/ruby-1.9.3-p448.tar.gz/">mirror5</a>.</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>http://cache.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p448.tar.gz/
</span><span class='line'>http://xyz.lcs.mit.edu/ruby/ruby-1.9.3-p448.tar.gz/
</span><span class='line'>http://www.mirrorservice.org/sites/ftp.ruby-lang.org/pub/ruby/ruby-1.9.3-p448.tar.gz/
</span><span class='line'>https://ftp.ruby-lang.org/pub/ruby/ruby-1.9.3-p448.tar.gz/
</span><span class='line'>http://www.dnsbalance.ring.gr.jp/archives/lang/ruby/ruby-1.9.3-p448.tar.gz/
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><strong>Install ruby:</strong>

<ol>
<li><strong>Unzip it and untar it and enter the directory:</strong>  <code>tar zxvf ruby-1.9.3-p448.tar.gz &amp;&amp; cd ruby-1.9.3-p448</code></li>
<li><strong>Compile source and install it using these commands:</strong> <code>configure &amp;&amp; make &amp;&amp; make install</code></li>
<li><strong>Make a gem repository in your home directory:</strong> <code>mkdir ~/mygemrepository</code></li>
<li><strong>Setup environment variables and paths:</strong> using &lsquo;nano&rsquo;, &lsquo;vi&rsquo;, or your text editor of choice:

<ul>
<li>Add <code>export GEM_HOME=~/mygemrepository</code> to the top of your ~/.bash_profile file.</li>
<li><strong>Change your path so that it includes &lsquo;~/mygemrepository/bin&rsquo; and so that &lsquo;/usr/local/bin&rsquo; takes precedence over &lsquo;/usr/bin&rsquo;:</strong> you should make or edit a line in your &lsquo;~/.bash_profile&rsquo; so that you have something like: <code>PATH=/usr/local/bin:~/mygemrepository/bin:$PATH</code>. It is important that &lsquo;/usr/local/bin&rsquo; and &lsquo;~/mygemrepository/bin&rsquo; be at the beginning of this line, as shown.</li>
</ul>
</li>
<li><strong>Test to see that ruby is installed properly, and that you are using the correct version:</strong>

<ul>
<li>Type <code>ruby -v</code> at the command prompt. The output should include: &lsquo;ruby 1.9.3p448&rsquo;</li>
</ul>
</li>
</ol>
</li>
</ol>


<h3>Install Chromedriver</h3>

<ol>
<li><strong>Download Chromedriver</strong>

<ol>
<li><strong>Download chromedriver_mac32_2.2.zip if you have Mountain Lion or chromedriver_mac32_2.1.zip if you have Lion:</strong>

<ul>
<li>To see all downloads you will need to choose &lsquo;All downloads&rsquo; from the dropdown in the search section and press the search button.</li>
</ul>
</li>
<li><strong>Move chromedriver to a binary directory in your path:</strong>

<ul>
<li>Choose the download you need, unzip it, and from a prompt type (assuming you have it in ~/Downloads and downloaded 2.1:) <code>cp ~/Downloads/chromedriver_mac32_2.1.zip /usr/local/bin</code></li>
</ul>
</li>
<li><strong>Test your installation:</strong>

<ul>
<li>Test it by typing, from a prompt: <code>chromedriver</code></li>
<li>You should see &lsquo;Started ChromeDriver (v2.1) on port 9515&rsquo;</li>
<li><strong>Troubleshooting Advice:</strong> If you see an error you can try downloading an earlier version.</li>
</ul>
</li>
</ol>
</li>
</ol>


<h3>Install the GenyMotion Android Emulator (needs admin access)</h3>

<p><strong>These instructions may change soon, so I&rsquo;ll keep them short</strong>
1. <strong>Download and Install VirtualBox (needs admin access)</strong></p>

<pre><code>- Search for it on Google.
- Download it off the Oracle website.
- Open the package and follow the dialogues to install VirtualBox (it is required for the Genymotion Android Emulator)
</code></pre>

<ol>
<li><strong>Setup Genymotion (current as of 09/16/13) and load the Chrome web browser onto it</strong>

<ul>
<li>Currently you need an account (free) with Genymotion to download or even install virtual machine images using Genymotion. Sign up for one.</li>
<li>Download the Genymotion installer for mac.</li>
<li>Install it using the dialogues.</li>
<li>Open Genymotion, log into the Genymotion cloud, and choose an image to download from the cloud. If you don&rsquo;t know what to download, just make sure that the Android operating system is 4.1 or higher.</li>
<li>Click on the applications menu button and choose the &lsquo;Play Store&rsquo; application.</li>
<li>Search for Chrome, and download it.</li>
</ul>
</li>
</ol>


<h2>Android SDK Setup</h2>

<ol>
<li><strong>Download the SDK:</strong> Go to <a href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a> and click the &lsquo;Download the SDK&rsquo; button.</li>
<li><strong>Install the SDK by following the directions</strong></li>
<li><strong>Set up paths to Android Tools:</strong>
<strong>Add these lines to the top of your &lsquo;~/.bash_profile&rsquo;:</strong></li>
</ol>


<figure class='code'><figcaption><span>~/.bash_profile    </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">ANDROID_HOME</span><span class="o">=</span>/usr/local/adt/sdk
</span><span class='line'><span class="nb">export </span><span class="nv">ANDROID_SDK</span><span class="o">=</span><span class="nv">$ANDROID_HOME</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Add these lines to the bottom of your &lsquo;~/.bash_profile&rsquo;:</strong></p>

<figure class='code'><figcaption><span>~/.bash_profile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$ANDROID_HOME</span>/tools
</span><span class='line'><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$ANDROID_HOME</span>/platform-tools
</span></code></pre></td></tr></table></div></figure>


<p><strong>These commands should now work without errors:</strong> <code>adb</code> and <code>android</code></p>

<h2>Appium Setup</h2>

<h3>Starting the Application if the GUI is installed</h3>

<ol>
<li><strong>Open the Appium application.</strong>

<ul>
<li><strong>If using the Android emulator:</strong>

<ol>
<li> <strong>Click the &lsquo;Package&rsquo; checkbox after clicking the &lsquo;Android&rsquo; tab</strong></li>
<li> <strong>Enter <code>com.android.chrome</code> into the &lsquo;Package&rsquo; text field</strong></li>
<li> <strong>Click &lsquo;Launch&rsquo;</strong></li>
</ol>
</li>
<li><strong>If using the iOS simulator:</strong>

<ol>
<li> <strong>Click the &lsquo;iOS&rsquo; tab</strong></li>
<li> <strong>Check the box that says &lsquo;Use mobile Safari&rsquo;</strong></li>
</ol>
</li>
</ul>
</li>
</ol>


<h3>Starting Appium from the Command Line</h3>

<ol>
<li><strong>For Android:</strong> At the terminal: <code>appium --app-pkg com.android.chrome</code></li>
<li><strong>For iOS:</strong> <code>appium --safari</code></li>
</ol>


<h2>Sample Android Scripts to Test Your Setup:</h2>

<p>These scripts should work with your setup, they are also available at <a href="https://gist.github.com/dbwest/6551886"><code>https://gist.github.com/dbwest/6551886</code></a>. They are written for Android. Connect your device or start your emulator before using these:
<strong>Make a file called <code>Gemfile</code> with the following contents:</strong></p>

<figure class='code'><figcaption><span>Gemfile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">source</span> <span class="s2">&quot;http://rubygems.org&quot;</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;watir-webdriver&#39;</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;selenium-webdriver&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Make a file called <code>android_appium.rb</code> with the following contents:</strong></p>

<figure class='code'><figcaption><span>android_appium.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Connect your device or start your emulator before running this script</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># make sure appium and chromedriver aren&#39;t started yet.</span>
</span><span class='line'><span class="c1">#`killall node`</span>
</span><span class='line'><span class="sb">`killall chromedriver`</span>
</span><span class='line'><span class="c1">#start appium server for chrome pkg and redirect stderr and stdout to keep terminal clean</span>
</span><span class='line'><span class="c1">#`appium --app-pkg com.android.chrome &amp; &gt; /dev/null 2&gt;&amp;1`</span>
</span><span class='line'><span class="c1">#prepare device</span>
</span><span class='line'><span class="sb">`adb kill-server`</span>
</span><span class='line'><span class="sb">`adb devices`</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;fileutils&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;watir-webdriver&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;selenium-webdriver&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The address and port of our Appium server</span>
</span><span class='line'><span class="n">server_url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:4723/wd/hub/&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Hash with information selenium webdriver needs </span>
</span><span class='line'><span class="n">capabilities</span> <span class="o">=</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="s1">&#39;app&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;chrome&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="s1">&#39;device&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Android&#39;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#Setup webdrivers to talk to Appium and mobile chrome and use implicit_waits to poll with long timeout to see if pages are loaded</span>
</span><span class='line'><span class="n">driver</span> <span class="o">=</span> <span class="ss">Selenium</span><span class="p">:</span><span class="ss">:WebDriver</span><span class="o">.</span><span class="n">for</span><span class="p">(</span><span class="ss">:remote</span><span class="p">,</span> <span class="ss">:desired_capabilities</span> <span class="o">=&gt;</span> <span class="n">capabilities</span><span class="p">,</span> <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="n">server_url</span><span class="p">)</span><span class="c1">#, :profile =&gt; profile)</span>
</span><span class='line'><span class="n">browser</span> <span class="o">=</span> <span class="ss">Watir</span><span class="p">:</span><span class="ss">:Browser</span><span class="o">.</span><span class="n">new</span> <span class="n">driver</span>
</span><span class='line'><span class="n">browser</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">manage</span><span class="o">.</span><span class="n">timeouts</span><span class="o">.</span><span class="n">implicit_wait</span> <span class="o">=</span> <span class="mi">30</span>
</span><span class='line'><span class="nb">puts</span> <span class="s2">&quot;new ANDROID Watir browser object instantiated&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#automated browser code using Watir browser object and methods</span>
</span><span class='line'><span class="n">browser</span><span class="o">.</span><span class="n">goto</span> <span class="s2">&quot;http://saucelabs.com/test/guinea-pig&quot;</span>
</span><span class='line'><span class="n">browser</span><span class="o">.</span><span class="n">text_field</span><span class="p">(</span><span class="ss">:id</span><span class="o">=&gt;</span><span class="s2">&quot;fbemail&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set</span> <span class="s1">&#39;bobbaxter@bobbaxter.me&#39;</span>
</span><span class='line'><span class="nb">sleep</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#screenshot code</span>
</span><span class='line'><span class="sx">%x(adb shell /system/bin/screencap -p /sdcard/screenshot.png)</span>
</span><span class='line'><span class="n">time</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">to_i</span><span class="o">.</span><span class="n">to_s</span>
</span><span class='line'><span class="nb">puts</span> <span class="s1">&#39;current directory is&#39;</span> <span class="o">+</span> <span class="sb">`pwd`</span>
</span><span class='line'><span class="sx">%x(adb pull /sdcard/screenshot.png ./images/screenshot.png)</span>
</span><span class='line'><span class="no">FileUtils</span><span class="o">.</span><span class="n">mv</span><span class="p">(</span><span class="s1">&#39;./images/screenshot.png&#39;</span><span class="p">,</span> <span class="s1">&#39;./images/screenshot&#39;</span> <span class="o">+</span> <span class="n">time</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span><span class="p">)</span>
</span><span class='line'><span class="sx">%x(adb shell rm /sdcard/screenshot.png)</span>
</span><span class='line'><span class="sb">`open images/.`</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/16/appium-for-ios-and-android-automated-testing/">Appium for iOS and Android Automated Testing</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - David West -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
